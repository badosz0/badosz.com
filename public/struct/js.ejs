<script src="/public/js/font.js" crossorigin="anonymous" defer async></script>
<script defer async>
    const dark_mode_media_query = window.matchMedia('(prefers-color-scheme: dark)')

    function handle_dark_mode(e) {
        const dark_mode_on = e.matches
        const favicon = document.querySelector('link[rel="shortcut icon"]')
        const large_favicon = document.querySelector('link[rel="icon"]')
        if (!favicon || !large_favicon) return
        if (dark_mode_on) {
            favicon.href = '/public/images/brand/bIcon-black.png'
            large_favicon.href = '/public/images/brand/bIcon-black.png'
        }
        else {
            favicon.href = '/public/images/brand/bIcon-white.png'
            large_favicon.href = '/public/images/brand/bIcon-white.png'
        }
    }

    handle_dark_mode(dark_mode_media_query)
    dark_mode_media_query.addListener(handle_dark_mode)
</script>